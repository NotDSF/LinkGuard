<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://nordcdn.net/ds/css/3.1.1/nord.min.css" integrity="sha384-zz2Vh/uaPtnKKnKq4a8aP/R7ybJEZD3LuwnvmLE+p42C+Zjr2R0Y+PKwdABWc61A" crossorigin="anonymous" />
    <script type="module" src="https://nordcdn.net/ds/components/3.8.0/index.js" integrity="sha384-zvZDBl7G/h/0UeesdZH1CBfL9kfoMi+5/I28m8u8yCgzJC7kohDH3I6XgaMzYnLW" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://nordcdn.net/ds/themes/8.0.1/nord-dark.css" integrity="sha384-4mfQkitA1YUssjHukrfVhopnhPw9eM2tX8Z05rZ/5NJRmDJN1fQp2gGfwydx2SzL" crossorigin="anonymous" />
    <link rel="icon" type="image/x-icon" href="<%=website_icon%>">
    <title><%=name%> | LinkGuard</title>
</head>
<body>
    <style>
        body {
            background: var(--n-color-surface);
            margin: 0;
        }
    </style>
    
    <nord-header>
        <img src="<%=icon%>" alt="">
        <nord-divider direction="vertical"></nord-divider>
        <h1 class="n-typescale-l">Trial Guard</h1>

        <nord-button href="<%=discord%>" slot="end"><nord-icon name="interface-link" slot="end"></nord-icon>Purchase Script</nord-button>
        <nord-button href="https://linkguard.cc" variant="primary" slot="end">
          <nord-icon slot="start" name="interface-home"></nord-icon>
          Home
        </nord-button>
    </nord-header>

    <nord-empty-state class="n-gap-m">
        <h2>Steps complete ðŸŽ‰</h2>
        <p>We told you it was that easy!</p>
        <p id="info">Expires: </p>
        <nord-stack justify-content="center" direction="vertical" style="align-items: center;">
            <nord-input label="Key" value="<%=key%>" disabled="true">
                <nord-icon slot="start" name="interface-password"></nord-icon>
            </nord-input>
            <nord-textarea label="Script" id="script" value="<%=script%>" readonly="true" resize="auto"></nord-textarea>
        </nord-stack>

        <nord-stack justify-content="center" gap="s" direction="horizontal" class="n-margin-l">
            <nord-button onclick="copyKey()"><nord-icon name="interface-copy" slot="end"></nord-icon>Copy Key</nord-button>
            <nord-button variant="primary" onclick="copyScript()"><nord-icon name="interface-copy" slot="end"></nord-icon>Copy Script</nord-button>
        </nord-stack>
    </nord-empty-state>

    <script>
        const copyKey = () => navigator.clipboard.writeText("<%=key%>");
        const copyScript = () => navigator.clipboard.writeText("script_key=\"<%=key%>\";\nloadstring(game:HttpGet(\"<%=script%>\"))();");
        const expiresAt = "<%=expires%>";

        document.getElementById("script").value = "script_key=\"<%=key%>\";\nloadstring(game:HttpGet(\"<%=script%>\"))();"
        document.getElementById("info").textContent = `Expires: ${new Date(+expiresAt).toLocaleTimeString("en-US")}`
    </script>
</body>
</html>